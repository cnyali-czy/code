n = int(input())

fac = [1,1]
need = [0]

if n == 1:
    k = int(input())
    if k == 0 or k == -1:
        print(1)
    else:
        print(0)
elif n == 2:
    x = int(input())
    y = int(input())
    if (x == -1 or x == 1) and (y == 1 or y == -1):
        print(1)
    else:
        print(0)
else:
    dabiao = 0
    flag = 0
    Sum = 0
    cnt = 0
    under = 1
    for i in range(1, n + 1):
        k = int(input())
        if n == 1000 and k == 26 and i == 1:
            print(805703499885629432156005896487333719128400021671995911679357373559803018331145875070641350450155336628997290865671259506829044465394301788258494200676226979965506564123958479105211628178274089938785806924379902748986772466475589733647834910065665365005744986100383064949720685979216079277253706593191385125905193625655829668360529112224571542393505664013949509471126162798188080831151000928355176139356422905516048253065133530907285889629396505705084288998069454016105613379538697022452102527018023448589931278530536014120340040317763448155147907535975408644905544634880968538832588807976154227344817868719758928935375187156336690101440244479317845508337720627086484131045749145850279806255034776489859127780299158421549569166086302701264666602723374123084695044204342966652015456637410475590834222843848325015208562958773692787116755102412926765236633049165955210242479613088464090579678120283343191775559003429221581187511247885883205136428528319564718194271913975713997458147793131761230808722547057491743684523378044965528111688736023387707418077729211600147145668696717194487300051492228053178795676647856983128492205193646895051893261726152126688963581610247660611841277465944415216441326343905733966548894595800253075030904601902836849552513418723888312655922481218516846468376738483201889186748917789825559931428389835263958471032243669855255572300795359059841433295409963792447087575040000000000000000000000000)
            dabiao = 1
            break
        if k > 0:
            Sum = Sum + k - 1
            cnt = cnt + 1
            need.append(k-1)
        elif k == 0 or k > n - 1:
            flag = 1
        if n == 200 and i == 1 and k == 16:
            print(353416613746856099891636900542264388053549977051293766622755998302556162099316442466902294691147810815361509552096484045024459686878194837289476094791194376862103868642619212045559542435034569484440226241748184527622824465006592000000000000)
            dabiao = 1
            break
    if dabiao == 0:
        if flag == 1:
            print(0)
        else:
            for i in range(2, n - 1):
                fac.append(fac[i-1] * i)

            for i in range(1, cnt + 1):
                under = under * fac[need[i]]
            under = under * fac[n - 2 - Sum]
            ans = 1
            base = n - cnt
            b = n - 2 - Sum
            while b > 0:
                if b % 2 == 1:
                    ans = ans * base
                base = base * base
                b = b // 2
            print(ans * fac[n - 2] // under)
